(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81766,e=>{"use strict";let r,t,o;var a=e.i(48277),s=e.i(30668),n=e.i(42854),l=e.i(61305),i=e.i(91489),c=e.i(46592),d=e.i(46471),u=e.i(72671),p=e.i(54976),f=e.i(36970),f=f,m=e.i(64309),m=m,h=e.i(80380),x=e.i(4645);let g=(0,e.i(35884).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var b=e.i(5647),v=e.i(96134),j=e.i(547),y=e.i(83194),w=e.i(85205),C=e.i(75680);function N(){return(N=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function F(e,r){if(null==e)return{};var t,o,a={},s=Object.keys(e);for(o=0;o<s.length;o++)r.indexOf(t=s[o])>=0||(a[t]=e[t]);return a}function _(e){var r=(0,s.useRef)(e),t=(0,s.useRef)(function(e){r.current&&r.current(e)});return r.current=e,t.current}var k,S=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e<r?r:e},E=function(e){return"touches"in e},P=function(e){return e&&e.ownerDocument.defaultView||self},I=function(e,r,t){var o=e.getBoundingClientRect(),a=E(r)?function(e,r){for(var t=0;t<e.length;t++)if(e[t].identifier===r)return e[t];return e[0]}(r.touches,t):r;return{left:S((a.pageX-(o.left+P(e).pageXOffset))/o.width),top:S((a.pageY-(o.top+P(e).pageYOffset))/o.height)}},R=function(e){E(e)||e.preventDefault()},M=s.default.memo(function(e){var r=e.onMove,t=e.onKey,o=F(e,["onMove","onKey"]),a=(0,s.useRef)(null),n=_(r),l=_(t),i=(0,s.useRef)(null),c=(0,s.useRef)(!1),d=(0,s.useMemo)(function(){var e=function(e){R(e),(E(e)?e.touches.length>0:e.buttons>0)&&a.current?n(I(a.current,e,i.current)):t(!1)},r=function(){return t(!1)};function t(t){var o=c.current,s=P(a.current),n=t?s.addEventListener:s.removeEventListener;n(o?"touchmove":"mousemove",e),n(o?"touchend":"mouseup",r)}return[function(e){var r=e.nativeEvent,o=a.current;if(o&&(R(r),(!c.current||E(r))&&o)){if(E(r)){c.current=!0;var s=r.changedTouches||[];s.length&&(i.current=s[0].identifier)}o.focus(),n(I(o,r,i.current)),t(!0)}},function(e){var r=e.which||e.keyCode;r<37||r>40||(e.preventDefault(),l({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},t]},[l,n]),u=d[0],p=d[1],f=d[2];return(0,s.useEffect)(function(){return f},[f]),s.default.createElement("div",N({},o,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:a,onKeyDown:p,tabIndex:0,role:"slider"}))}),D=function(e){return e.filter(Boolean).join(" ")},T=function(e){var r=e.color,t=e.left,o=e.top,a=D(["react-colorful__pointer",e.className]);return s.default.createElement("div",{className:a,style:{top:100*(void 0===o?.5:o)+"%",left:100*t+"%"}},s.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:r}}))},A=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t},B=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?A(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?A(parseInt(e.substring(6,8),16)/255,2):1}},O=function(e){var r=e.s,t=e.v,o=e.a,a=(200-r)*t/100;return{h:A(e.h),s:A(a>0&&a<200?r*t/100/(a<=100?a:200-a)*100:0),l:A(a/2),a:A(o,2)}},z=function(e){var r=O(e);return"hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},U=function(e){var r=e.h,t=e.s,o=e.v,a=e.a;r=r/360*6,t/=100,o/=100;var s=Math.floor(r),n=o*(1-t),l=o*(1-(r-s)*t),i=o*(1-(1-r+s)*t),c=s%6;return{r:A(255*[o,l,n,n,i,o][c]),g:A(255*[i,o,o,l,n,n][c]),b:A(255*[n,n,i,o,o,l][c]),a:A(a,2)}},L=function(e){var r=e.toString(16);return r.length<2?"0"+r:r},H=function(e){var r=e.r,t=e.g,o=e.b,a=e.a,s=a<1?L(A(255*a)):"";return"#"+L(r)+L(t)+L(o)+s},V=function(e){var r=e.r,t=e.g,o=e.b,a=e.a,s=Math.max(r,t,o),n=s-Math.min(r,t,o),l=n?s===r?(t-o)/n:s===t?2+(o-r)/n:4+(r-t)/n:0;return{h:A(60*(l<0?l+6:l)),s:A(s?n/s*100:0),v:A(s/255*100),a:a}},K=s.default.memo(function(e){var r=e.hue,t=e.onChange,o=D(["react-colorful__hue",e.className]);return s.default.createElement("div",{className:o},s.default.createElement(M,{onMove:function(e){t({h:360*e.left})},onKey:function(e){t({h:S(r+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":A(r),"aria-valuemax":"360","aria-valuemin":"0"},s.default.createElement(T,{className:"react-colorful__hue-pointer",left:r/360,color:z({h:r,s:100,v:100,a:1})})))}),W=s.default.memo(function(e){var r=e.hsva,t=e.onChange,o={backgroundColor:z({h:r.h,s:100,v:100,a:1})};return s.default.createElement("div",{className:"react-colorful__saturation",style:o},s.default.createElement(M,{onMove:function(e){t({s:100*e.left,v:100-100*e.top})},onKey:function(e){t({s:S(r.s+100*e.left,0,100),v:S(r.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+A(r.s)+"%, Brightness "+A(r.v)+"%"},s.default.createElement(T,{className:"react-colorful__saturation-pointer",top:1-r.v/100,left:r.s/100,color:z(r)})))}),q=function(e,r){if(e===r)return!0;for(var t in e)if(e[t]!==r[t])return!1;return!0},$="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,Q=new Map,G=function(e){$(function(){var r=e.current?e.current.ownerDocument:document;if(void 0!==r&&!Q.has(r)){var t=r.createElement("style");t.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',Q.set(r,t);var o=k||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);o&&t.setAttribute("nonce",o),r.head.appendChild(t)}},[])},Y=function(e){var r,t,o,a,n,l=e.className,i=e.colorModel,c=e.color,d=void 0===c?i.defaultColor:c,u=e.onChange,p=F(e,["className","colorModel","color","onChange"]),f=(0,s.useRef)(null);G(f);var m=(r=_(u),o=(t=(0,s.useState)(function(){return i.toHsva(d)}))[0],a=t[1],n=(0,s.useRef)({color:d,hsva:o}),(0,s.useEffect)(function(){if(!i.equal(d,n.current.color)){var e=i.toHsva(d);n.current={hsva:e,color:d},a(e)}},[d,i]),(0,s.useEffect)(function(){var e;q(o,n.current.hsva)||i.equal(e=i.fromHsva(o),n.current.color)||(n.current={hsva:o,color:e},r(e))},[o,i,r]),[o,(0,s.useCallback)(function(e){a(function(r){return Object.assign({},r,e)})},[])]),h=m[0],x=m[1],g=D(["react-colorful",l]);return s.default.createElement("div",N({},p,{ref:f,className:g}),s.default.createElement(W,{hsva:h,onChange:x}),s.default.createElement(K,{hue:h.h,onChange:x,className:"react-colorful__last-control"}))},X={defaultColor:"000",toHsva:function(e){return V(B(e))},fromHsva:function(e){return H(U({h:e.h,s:e.s,v:e.v,a:1}))},equal:function(e,r){return e.toLowerCase()===r.toLowerCase()||q(B(e),B(r))}},Z=function(e){return s.default.createElement(Y,N({},e,{colorModel:X}))},J=e.i(89414),J=J,ee=e.i(26145),er=e.i(81500),et=e.i(9166),eo=e.i(40785),ea=e.i(46279),es=e.i(34659),en=e.i(74327),el=e.i(11209),ei=e.i(86822),ec=e.i(17929),ed=e.i(11432),eu=Symbol("radix.slottable");function ep(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===eu}var ef=e.i(7950),em=e.i(16935),eh=e.i(96573),ex="Popover",[eg,eb]=(0,et.createContextScope)(ex,[el.createPopperScope]),ev=(0,el.createPopperScope)(),[ej,ey]=eg(ex),ew=e=>{let{__scopePopover:r,children:t,open:o,defaultOpen:n,onOpenChange:l,modal:i=!1}=e,c=ev(r),d=s.useRef(null),[u,p]=s.useState(!1),[f,m]=(0,ef.useControllableState)({prop:o,defaultProp:n??!1,onChange:l,caller:ex});return(0,a.jsx)(el.Root,{...c,children:(0,a.jsx)(ej,{scope:r,contentId:(0,en.useId)(),triggerRef:d,open:f,onOpenChange:m,onOpenToggle:s.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:u,onCustomAnchorAdd:s.useCallback(()=>p(!0),[]),onCustomAnchorRemove:s.useCallback(()=>p(!1),[]),modal:i,children:t})})};ew.displayName=ex;var eC="PopoverAnchor";s.forwardRef((e,r)=>{let{__scopePopover:t,...o}=e,n=ey(eC,t),l=ev(t),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=n;return s.useEffect(()=>(i(),()=>c()),[i,c]),(0,a.jsx)(el.Anchor,{...l,...o,ref:r})}).displayName=eC;var eN="PopoverTrigger",eF=s.forwardRef((e,r)=>{let{__scopePopover:t,...o}=e,s=ey(eN,t),n=ev(t),l=(0,er.useComposedRefs)(r,s.triggerRef),i=(0,a.jsx)(ed.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":eB(s.open),...o,ref:l,onClick:(0,ee.composeEventHandlers)(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?i:(0,a.jsx)(el.Anchor,{asChild:!0,...n,children:i})});eF.displayName=eN;var e_="PopoverPortal",[ek,eS]=eg(e_,{forceMount:void 0}),eE=e=>{let{__scopePopover:r,forceMount:t,children:o,container:s}=e,n=ey(e_,r);return(0,a.jsx)(ek,{scope:r,forceMount:t,children:(0,a.jsx)(ec.Presence,{present:t||n.open,children:(0,a.jsx)(ei.Portal,{asChild:!0,container:s,children:o})})})};eE.displayName=e_;var eP="PopoverContent",eI=s.forwardRef((e,r)=>{let t=eS(eP,e.__scopePopover),{forceMount:o=t.forceMount,...s}=e,n=ey(eP,e.__scopePopover);return(0,a.jsx)(ec.Presence,{present:o||n.open,children:n.modal?(0,a.jsx)(eM,{...s,ref:r}):(0,a.jsx)(eD,{...s,ref:r})})});eI.displayName=eP;var eR=((o=s.forwardRef((e,r)=>{let{children:t,...o}=e;if(s.isValidElement(t)){var a;let e,n,l=(a=t,(n=(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.ref:(n=(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?a.props.ref:a.props.ref||a.ref),i=function(e,r){let t={...r};for(let o in r){let a=e[o],s=r[o];/^on[A-Z]/.test(o)?a&&s?t[o]=(...e)=>{let r=s(...e);return a(...e),r}:a&&(t[o]=a):"style"===o?t[o]={...a,...s}:"className"===o&&(t[o]=[a,s].filter(Boolean).join(" "))}return{...e,...t}}(o,t.props);return t.type!==s.Fragment&&(i.ref=r?(0,er.composeRefs)(r,l):l),s.cloneElement(t,i)}return s.Children.count(t)>1?s.Children.only(null):null})).displayName="PopoverContent.RemoveScroll.SlotClone",r=o,(t=s.forwardRef((e,t)=>{let{children:o,...n}=e,l=s.Children.toArray(o),i=l.find(ep);if(i){let e=i.props.children,o=l.map(r=>r!==i?r:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,a.jsx)(r,{...n,ref:t,children:s.isValidElement(e)?s.cloneElement(e,void 0,o):null})}return(0,a.jsx)(r,{...n,ref:t,children:o})})).displayName="PopoverContent.RemoveScroll.Slot",t),eM=s.forwardRef((e,r)=>{let t=ey(eP,e.__scopePopover),o=s.useRef(null),n=(0,er.useComposedRefs)(r,o),l=s.useRef(!1);return s.useEffect(()=>{let e=o.current;if(e)return(0,em.hideOthers)(e)},[]),(0,a.jsx)(eh.RemoveScroll,{as:eR,allowPinchZoom:!0,children:(0,a.jsx)(eT,{...e,ref:n,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,ee.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),l.current||t.triggerRef.current?.focus()}),onPointerDownOutside:(0,ee.composeEventHandlers)(e.onPointerDownOutside,e=>{let r=e.detail.originalEvent,t=0===r.button&&!0===r.ctrlKey;l.current=2===r.button||t},{checkForDefaultPrevented:!1}),onFocusOutside:(0,ee.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),eD=s.forwardRef((e,r)=>{let t=ey(eP,e.__scopePopover),o=s.useRef(!1),n=s.useRef(!1);return(0,a.jsx)(eT,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{e.onCloseAutoFocus?.(r),r.defaultPrevented||(o.current||t.triggerRef.current?.focus(),r.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:r=>{e.onInteractOutside?.(r),r.defaultPrevented||(o.current=!0,"pointerdown"===r.detail.originalEvent.type&&(n.current=!0));let a=r.target;t.triggerRef.current?.contains(a)&&r.preventDefault(),"focusin"===r.detail.originalEvent.type&&n.current&&r.preventDefault()}})}),eT=s.forwardRef((e,r)=>{let{__scopePopover:t,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:n,disableOutsidePointerEvents:l,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...p}=e,f=ey(eP,t),m=ev(t);return(0,ea.useFocusGuards)(),(0,a.jsx)(es.FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:n,children:(0,a.jsx)(eo.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:(0,a.jsx)(el.Content,{"data-state":eB(f.open),role:"dialog",id:f.contentId,...m,...p,ref:r,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eA="PopoverClose";function eB(e){return e?"open":"closed"}s.forwardRef((e,r)=>{let{__scopePopover:t,...o}=e,s=ey(eA,t);return(0,a.jsx)(ed.Primitive.button,{type:"button",...o,ref:r,onClick:(0,ee.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})}).displayName=eA,s.forwardRef((e,r)=>{let{__scopePopover:t,...o}=e,s=ev(t);return(0,a.jsx)(el.Arrow,{...s,...o,ref:r})}).displayName="PopoverArrow";var eO=e.i(41428);function ez({...e}){return(0,a.jsx)(ew,{"data-slot":"popover",...e})}function eU({...e}){return(0,a.jsx)(eF,{"data-slot":"popover-trigger",...e})}function eL({className:e,align:r="center",sideOffset:t=4,...o}){return(0,a.jsx)(eE,{children:(0,a.jsx)(eI,{"data-slot":"popover-content",align:r,sideOffset:t,className:(0,eO.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...o})})}let eH=["#2563eb","#f97316","#facc15","#22d3ee","#a855f7","#14b8a6","#f43f5e"],eV=({value:e="#2563eb",onChange:r,label:t="Brand color"})=>{let o=(0,s.useMemo)(()=>e??"#2563eb",[e]),n=(0,s.useCallback)(e=>()=>r(e),[r]);return(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:t}),(0,a.jsxs)(ez,{children:[(0,a.jsx)(eU,{asChild:!0,children:(0,a.jsx)(w.Button,{variant:"outline",className:"flex w-full items-center justify-between rounded-xl border-slate-200 bg-white px-4 py-2 text-left text-sm dark:border-slate-700 dark:bg-slate-900",children:(0,a.jsxs)("span",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"flex h-7 w-7 items-center justify-center rounded-full border border-slate-200",style:{backgroundColor:o},children:(0,a.jsx)(J.default,{className:"h-4 w-4 text-white drop-shadow"})}),(0,a.jsx)("span",{children:o})]})})}),(0,a.jsxs)(eL,{align:"start",className:"w-64 space-y-4",children:[(0,a.jsx)(Z,{color:o,onChange:r}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:eH.map(e=>(0,a.jsx)("button",{onClick:n(e),className:"h-8 w-8 rounded-full border border-slate-200",style:{backgroundColor:e},"aria-label":`Select ${e}`},e))})]})]})]})};var eK=e.i(36470),eW=e.i(23035),eq=e.i(1831);let e$=u.z.object({sample:u.z.string().min(40,{message:"Provide at least 40 characters to analyse tone."})}),eQ=({initialSample:e=""})=>{let[r,t]=(0,s.useState)(e),{mutate:o,isPending:n,data:i}=(0,l.useMutation)({mutationFn:async()=>{let e=e$.parse({sample:r});return(await eq.api.post(`${eq.endpoints.business}/voice-test`,{text:e.sample})).data},onError:e=>{p.toast.error(e instanceof Error?e.message:"Failed to analyse voice sample")}});return(0,a.jsxs)("div",{className:"space-y-3 rounded-2xl border border-blue-100 bg-blue-50/50 p-4 dark:border-blue-900/40 dark:bg-blue-900/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-blue-700 dark:text-blue-200",children:[(0,a.jsx)(eW.SparklesIcon,{className:"h-4 w-4"}),"DeepSeek Voice Tester"]}),(0,a.jsx)(j.Textarea,{value:r,onChange:e=>t(e.target.value),placeholder:"Paste a sample paragraph that represents your brand tone...",rows:4}),(0,a.jsxs)(w.Button,{type:"button",disabled:n||r.length<40,onClick:()=>o(),className:"bg-blue-600 hover:bg-blue-700",children:[n?(0,a.jsx)(h.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Test brand voice"]}),i?(0,a.jsxs)("div",{className:"space-y-2 rounded-xl border border-blue-200 bg-white p-3 text-sm dark:border-blue-700 dark:bg-blue-950/50",children:[(0,a.jsx)("p",{className:"font-medium text-slate-800 dark:text-slate-100",children:i.summary}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1 text-xs uppercase text-blue-500",children:i.keywords.map(e=>(0,a.jsx)("span",{className:"rounded-full bg-blue-50 px-2 py-0.5 dark:bg-blue-900/60",children:e},e))})]}):null]})};var eG=e.i(44363),eY=e.i(5418),eX=e.i(3020);let eZ=u.z.object({name:u.z.string().min(2),category:u.z.string().optional(),targetAudience:u.z.string().optional(),goals:u.z.string().optional(),voiceTone:u.z.string().optional(),brandColors:u.z.string().optional(),preferredEmotion:u.z.string().optional(),preferredStyle:u.z.string().optional(),preferredPlatforms:u.z.array(u.z.string()).default([]),voiceSampleText:u.z.string().optional(),logoUrl:u.z.string().refine(e=>void 0===e||""===e||e.startsWith("/")||/^https?:\/\//.test(e),{message:"Must be a valid URL or server path"}).optional()}),eJ=["joy","trust","anticipation","luxury","calm","festive"],e0=["modern","minimalist","vibrant","luxury","playful"],e1={name:"",category:"",targetAudience:"",goals:"",voiceTone:"",brandColors:"#2563eb",preferredEmotion:"joy",preferredStyle:"modern",preferredPlatforms:[],voiceSampleText:"",logoUrl:""},e2=async()=>(await eq.api.get(eq.endpoints.business)).data;function e5(){let e=(0,c.useQueryClient)(),[r,t]=(0,s.useState)(!1),{data:o=[],isLoading:u}=(0,i.useQuery)({queryKey:eY.queryKeys.business,queryFn:e2,placeholderData:[]}),{activeBusinessId:N,setActiveBusinessId:F}=(0,eX.useBusinessStore)();(0,s.useEffect)(()=>{if(0===o.length){N!==eX.NEW_BUSINESS_ID&&F(eX.NEW_BUSINESS_ID);return}N&&(N===eX.NEW_BUSINESS_ID||o.some(e=>e.id===N))||F(o[0].id)},[o,N,F]);let _=N&&N!==eX.NEW_BUSINESS_ID?o.find(e=>e.id===N)??null:null,k=N===eX.NEW_BUSINESS_ID||!_,S=(0,d.useForm)({resolver:(0,n.zodResolver)(eZ),defaultValues:e1});(0,s.useEffect)(()=>{_?S.reset({name:_.name,category:_.category??"",targetAudience:_.targetAudience??"",goals:_.goals??"",voiceTone:_.voiceTone??"",brandColors:_.brandColors??"#2563eb",preferredEmotion:_.preferredEmotion??"joy",preferredStyle:_.preferredStyle??"modern",preferredPlatforms:_.preferredPlatforms??[],voiceSampleText:_.voiceSampleText??"",logoUrl:_.logoUrl??""}):S.reset(e1)},[_,S]);let E=(0,l.useMutation)({mutationFn:async e=>(await eq.api.post(eq.endpoints.business,e)).data,onSuccess:r=>{p.toast.success("Business profile created"),e.setQueryData(eY.queryKeys.business,(e=[])=>[r,...e]),F(r.id)},onError:e=>p.toast.error(e instanceof Error?e.message:"Failed to create business")}),P=(0,l.useMutation)({mutationFn:async({businessId:e,values:r})=>(await eq.api.put(`${eq.endpoints.business}/${e}`,r)).data,onSuccess:(r,{values:t})=>{p.toast.success("Business profile updated"),e.setQueryData(eY.queryKeys.business,(e=[])=>e.map(e=>e.id===r.id?r:e)),S.reset({...t,logoUrl:r.logoUrl??t.logoUrl??""})},onError:e=>p.toast.error(e instanceof Error?e.message:"Failed to update business")}),I=async()=>{if(_)return _;let e=S.getValues();if(!e.name)throw p.toast.error("Add your business name before uploading a logo."),Error("Business name is required");return E.mutateAsync(e)},R=async r=>{let t=await I(),o=new FormData;o.append("logo",r);try{let{url:r}=(await eq.api.post(`${eq.endpoints.business}/${t.id}/logo`,o)).data;S.setValue("logoUrl",r),e.setQueryData(eY.queryKeys.business,(e=[])=>e.map(e=>e.id===t.id?{...e,logoUrl:r}:e)),p.toast.success("Logo uploaded")}catch(e){throw p.toast.error(e instanceof Error?e.message:"Failed to upload logo"),e}},M=()=>{F(eX.NEW_BUSINESS_ID),S.reset(e1)};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-slate-900 dark:text-white",children:"Business identity"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Define the tone, emotion, and assets that power every generated post."})]}),(0,a.jsxs)(C.Card,{className:"border-slate-200 shadow-sm dark:border-slate-800",children:[(0,a.jsxs)(C.CardHeader,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(C.CardTitle,{children:"Your projects"}),(0,a.jsx)(C.CardDescription,{children:"Switch between businesses to manage brand voices, templates, and calendars."})]}),(0,a.jsxs)(w.Button,{type:"button",variant:"outline",onClick:M,className:"border-dashed",children:[(0,a.jsx)(x.PlusIcon,{className:"mr-2 h-4 w-4"}),"New business"]})]}),(0,a.jsx)(C.CardContent,{children:o.length?(0,a.jsx)("div",{className:"grid gap-3",children:o.map(e=>{let r=N===e.id;return(0,a.jsxs)("button",{type:"button",onClick:()=>{F(e.id)},className:(0,eO.cn)("flex w-full items-center justify-between rounded-2xl border p-4 text-left transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-slate-950",r?"border-blue-500/80 bg-blue-500/10 shadow-sm dark:border-blue-500/50":"border-slate-200 bg-white hover:border-blue-400/60 hover:bg-slate-50 dark:border-slate-800 dark:bg-slate-900/40 dark:hover:border-blue-500/60 dark:hover:bg-slate-900/60"),children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-sm font-semibold text-slate-800 dark:text-slate-100",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.category?e.category:"No category set"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 pt-1",children:[e.preferredEmotion?(0,a.jsx)(eG.EmotionBadge,{emotion:e.preferredEmotion}):null,e.preferredStyle?(0,a.jsx)("span",{className:"rounded-full bg-slate-200 px-2 py-0.5 text-[11px] uppercase tracking-wide text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:e.preferredStyle}):null]})]}),r?(0,a.jsx)("span",{className:"rounded-full bg-blue-500/10 px-3 py-1 text-[11px] font-semibold uppercase tracking-[0.16em] text-blue-600 dark:text-blue-300",children:"Active"}):null]},e.id)})}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 rounded-2xl border border-dashed border-slate-300 bg-slate-50 p-8 text-center dark:border-slate-700 dark:bg-slate-900/40",children:[(0,a.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Create your first business to start generating project-specific assets and calendars."}),(0,a.jsxs)(w.Button,{onClick:M,className:"bg-blue-600 text-white hover:bg-blue-700",children:[(0,a.jsx)(x.PlusIcon,{className:"mr-2 h-4 w-4"}),"Create business"]})]})})]}),(0,a.jsxs)(C.Card,{className:"border-slate-200 shadow-sm dark:border-slate-800",children:[(0,a.jsxs)(C.CardHeader,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C.CardTitle,{children:k?"Create a business profile":`Edit ${_?.name??"business"}`}),(0,a.jsx)(C.CardDescription,{children:"These details flow into every DeepSeek prompt and calendar entry for the selected project."})]}),(0,a.jsx)(w.Button,{type:"button",variant:"ghost",size:"icon",className:"rounded-full border border-slate-200 text-slate-600 hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",onClick:()=>t(e=>!e),"aria-expanded":!r,"aria-label":r?"Expand business form":"Collapse business form",children:r?(0,a.jsx)(f.default,{className:"h-4 w-4"}):(0,a.jsx)(m.default,{className:"h-4 w-4"})})]}),r?(0,a.jsx)(C.CardContent,{className:"text-sm text-slate-600 dark:text-slate-300",children:_?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"font-medium text-slate-700 dark:text-slate-200",children:"Active summary"}),(0,a.jsx)("p",{children:_.name}),(0,a.jsx)("p",{children:_.category??"No category set"}),_.preferredEmotion||_.preferredStyle?(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[_.preferredEmotion?(0,a.jsx)(eG.EmotionBadge,{emotion:_.preferredEmotion}):null,_.preferredStyle?(0,a.jsx)("span",{className:"rounded-full bg-slate-200 px-2 py-0.5 text-[11px] uppercase tracking-wide text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:_.preferredStyle}):null]}):null]}):(0,a.jsx)("p",{children:"Select a business or create a new one to start configuring brand settings."})}):(0,a.jsx)(C.CardContent,{children:(0,a.jsx)(b.Form,{...S,children:(0,a.jsxs)("form",{onSubmit:S.handleSubmit(e=>{_?P.mutate({businessId:_.id,values:e}):E.mutate(e)}),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsx)(b.FormField,{control:S.control,name:"name",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Business name"}),(0,a.jsx)(b.FormControl,{children:(0,a.jsx)(v.Input,{placeholder:"postinmin & Co",...e})}),(0,a.jsx)(b.FormMessage,{})]})}),(0,a.jsx)(b.FormField,{control:S.control,name:"category",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Category"}),(0,a.jsx)(b.FormControl,{children:(0,a.jsx)(v.Input,{placeholder:"Interior design studio",...e})}),(0,a.jsx)(b.FormMessage,{})]})}),(0,a.jsx)(b.FormField,{control:S.control,name:"targetAudience",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Target audience"}),(0,a.jsx)(b.FormControl,{children:(0,a.jsx)(j.Textarea,{placeholder:"Modern homeowners, first-time buyers, design enthusiasts",...e})}),(0,a.jsx)(b.FormMessage,{})]})}),(0,a.jsx)(b.FormField,{control:S.control,name:"goals",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Primary goals"}),(0,a.jsx)(b.FormControl,{children:(0,a.jsx)(j.Textarea,{placeholder:"Drive awareness, launch seasonal promos, grow Instagram community",...e})}),(0,a.jsx)(b.FormMessage,{})]})})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-4 rounded-2xl border border-slate-200 bg-slate-50 p-6 dark:border-slate-800 dark:bg-slate-900/60",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Tone & emotion"}),(0,a.jsx)(b.FormField,{control:S.control,name:"voiceTone",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Voice tone"}),(0,a.jsx)(b.FormControl,{children:(0,a.jsx)(v.Input,{placeholder:"Warm, inspiring, data-backed",...e})}),(0,a.jsx)(b.FormDescription,{children:"Short phrases that describe the vibe of your brand voice."}),(0,a.jsx)(b.FormMessage,{})]})}),(0,a.jsx)(b.FormField,{control:S.control,name:"preferredEmotion",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Preferred emotion"}),(0,a.jsxs)(y.Select,{value:e.value,onValueChange:e.onChange,children:[(0,a.jsx)(b.FormControl,{children:(0,a.jsx)(y.SelectTrigger,{children:(0,a.jsx)(y.SelectValue,{placeholder:"Select an emotion"})})}),(0,a.jsx)(y.SelectContent,{children:eJ.map(e=>(0,a.jsx)(y.SelectItem,{value:e,children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(eG.EmotionBadge,{emotion:e})})},e))})]}),(0,a.jsx)(b.FormMessage,{})]})}),(0,a.jsx)(b.FormField,{control:S.control,name:"preferredStyle",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Visual style"}),(0,a.jsxs)(y.Select,{value:e.value,onValueChange:e.onChange,children:[(0,a.jsx)(b.FormControl,{children:(0,a.jsx)(y.SelectTrigger,{children:(0,a.jsx)(y.SelectValue,{placeholder:"Select a style"})})}),(0,a.jsx)(y.SelectContent,{children:e0.map(e=>(0,a.jsx)(y.SelectItem,{value:e,children:e},e))})]}),(0,a.jsx)(b.FormMessage,{})]})}),(0,a.jsx)(b.FormField,{control:S.control,name:"brandColors",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(eV,{value:e.value,onChange:e.onChange,label:"Primary brand color"}),(0,a.jsx)(b.FormMessage,{})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(b.FormField,{control:S.control,name:"logoUrl",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Brand logo"}),(0,a.jsx)(b.FormControl,{children:(0,a.jsxs)("div",{className:"space-y-3 rounded-2xl border border-slate-200 bg-white p-4 dark:border-slate-800 dark:bg-slate-900/60",children:[(0,a.jsx)(eK.FileUpload,{label:"Upload PNG / SVG logo",onUpload:R}),e.value?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-center justify-center rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-900",children:(0,a.jsx)("img",{src:e.value,alt:"Current brand logo",className:"max-h-28 w-full object-contain"})}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Logo preview"})]}):(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"No logo uploaded yet"})]})}),(0,a.jsx)(b.FormMessage,{})]})}),(0,a.jsx)(b.FormField,{control:S.control,name:"voiceSampleText",render:({field:e})=>(0,a.jsxs)(b.FormItem,{children:[(0,a.jsx)(b.FormLabel,{children:"Voice sample"}),(0,a.jsx)(b.FormControl,{children:(0,a.jsx)(eQ,{initialSample:e.value??""})}),(0,a.jsx)(b.FormMessage,{})]})})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-end gap-3",children:(0,a.jsxs)(w.Button,{type:"submit",className:"bg-blue-600 text-white hover:bg-blue-700",disabled:u||P.isPending||E.isPending,children:[P.isPending||E.isPending?(0,a.jsx)(h.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):k?(0,a.jsx)(x.PlusIcon,{className:"mr-2 h-4 w-4"}):(0,a.jsx)(g,{className:"mr-2 h-4 w-4"}),k?"Create business":"Save changes"]})})]})})})]})]})}e.s(["default",()=>e5],81766)}]);